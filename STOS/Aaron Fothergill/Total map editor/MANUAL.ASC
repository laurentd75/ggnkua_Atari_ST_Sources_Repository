ICONS.MBK
[.^......^.........^.........^.........^.........^.........^.........^.........]
                          „TOME V1.0 …                                          
                                                                                
  Thank you for buying TOME, the STOS TOtal Map Editor ! Unfortunately, as you  
may have heard, the advert in the STOS newsletter was supposed to have read     
"available NOV" instead of "available NOW", and so we have now had quite a few  
orders for TOME, before it has been finished !                                  
  However, as quite a few of you want to start programming using TOME as soon   
as possible. I have put together a package to make it possible for you to use   
TOME until the full version is finished. The work to be done is upon the        
improved version of the map editor, and the demo game (Now TIN GLOVE). The      
actual STOS extension and the MK1 (Development) version of the editor are fully 
working, so I have sent these to you so that you can start work with TOME. As   
soon as the new version of the editor, and the demo game have been finished, I  
will send them to you at no extra charge (of course !). These should be ready   
in early November.                                                              
                                                                                
  The rest of this text is the rough version of the manual for TOME. A full     
version will be provided with the update, this version is purely to get you     
started with using the TOME commands, and using the MK1 version of the editor.  
                                                                                
                        „Installing TOME …                                      
  To install the TOME commands in STOS, you must run the program TINSTALL.BAS   
from within STOS. The program will ask you whether you wish to install the      
interpreter extension or the compiler extension. When you reply, it will prompt 
you to insert your interpreter or compiler disk and then the program will       
install the appropriate TOME extension. The installer will then load up your    
STOS Title picture (\STOS\PIC.PIn) and you can then place the TOME extension    
sticker on your screen.                                                         
                          „The Commands …                                       
  You get an extra 8 commands and 3 functions with TOME. These are installed as 
an extension to STOS's command set using the TINSTALL.BAS program (see above).  
Once installed, they become part of the STOS system.                            
                                                                                
Command: DO MAP                                                                 
                                                                                
Syntax : DO MAP scrn,x,y                                                        
                                                                                
  This command draws a map/screen onto the screen scrn. The co-ordinates of the 
top left of the map to draw are given by x & y.                                 
                                                                                
e.g                                                                             
                                                                                
20 DO MAP logic,3,5 : rem draws a map to the logical screen from map            
co-ordinates 3,5                                                                
                                                                                
20 DO MAP start(8),x,y : rem draws map to bank 8 (screen or data screen) with   
co-ordinates x,y                                                                

Command: MAP BANKS                                                              

Syntax:  MAP BANKS m1,m2,m3,m4,scrn                                             

  Before using the DO MAP command, you must tell TOME where the maps and tile   
screen are stored. The MAP BANKS command lets you set up 4 maps and a           
Tilescreen in memory.                                                           
  The Maps contain the map data generated by the TOME.ACB accessory, these are  
saved from the editor and then BLOAD'ed at the start of a reserved work or data 
bank e.g                                                                        

reserve as work 6,10004 : rem 10004 is the length of the map file to load (use  
dir "*.MAP" to view the maps on disk                                            
                                                                                
bload "mymap.MAP",start(6)                                                      
                                                                                
  The Tile screen, is a Degas or Neochrome picture which contains the graphics  
for the tiles to be used with the map. These are stored as 16x16 pixel tiles in 
Low resolution, 32x16 in medium res. and 32x32 in high resolution. You can      
store 240 tiles on each screen. At the moment TOME can only access one          
tilescreen at a time, but a future version is planned, where multiple tile      
screens can be used.                                                            
                                                                                
  Once you have your maps and tilescreen loaded in, you can use the MAP BANKS   
command to tell TOME where they are. The parameters m1,m2,m3,m4 tell TOME the   
addresses of the maps in memory. These must be ADDRESSES, as TOME can access    
maps stored as strings. So for a map stored in bank 6 you would use start(6) as 
the parameter, for a map stored in M$ the parameter would be varptr(M$).        
  You do not have to have 4 maps loaded to use TOME, you just simply repeat the 
address of the previous maps if you do not require more.                        
  Similarly the s parameter for the tilescreen must be an address. This is to   
provide compatability with future versions of TOME, in which tile data will be  
able to be stored as strings.                                                   
                                                                                
  So for an example of using MAP BANKS                                          
                                                                                
10 S6=start(6) : rem map stored in bank 6                                       
15 S5=start(5) : rem tile screen stored in bank 5                               
20 MAP BANKS S6,S6,S6,S6,S5 : rem onlu uses 1 map.                              
                                                                                
Command: MAP VIEW                                                               
                                                                                
Syntax : MAP VIEW x1,y1,x2,y2                                                   
                                                                                
e.g                                                                             
10 MAP VIEW 16,16,256,160                                                       
                                                                                
  The MAP VIEW command must also be used before you can use the DO MAP command, 
as it tells TOME whereabouts on the screen to display the map. The x1,y1,x2,y2  
parameters are the co-ordinates (in pixels) of the box to display the map in    
(as in the BOX command).                                                        
  Most of the time you will only need to use MAP VIEW once to set up your       
viewing window, although it can be used as many times as you want in a program  
to move the viewing area around the screen for example.                         
                                                                                
Command: MAP CHANGE                                                             

Syntax: MAP CHANGE n                                                            

e.g                                                                             

10 MAP CHANGE 3 : rem n goes from 0-3                                           

  The MAP CHANGE command lets you select which map is to be viewed from the 4   
that you have in memory. When you use the MAP BANKS command, the first map is   
allways selected.                                                               

Command: BLOCK BANK                                                             

Syntax : BLOCK BANK addr                                                        

e.g                                                                             
                                                                                
20 BLOCK BANK start(8)                                                          
                                                                                
  BLOCK BANK tells TOME where you have stored your map blocks (created with the 
BLOCK cut/paste options in the editor). TOME's block commands give you a very   
simple way of moving whole sections of your map around, or changing areas of it 
while your program is running. As with MAP BANKS, BLOCK BANK requires the       
address of your block bank.                                                     
                                                                                
Command: BLOCK                                                                  
                                                                                
Syntax : BLOCK n,x,y                                                            
                                                                                
e.g                                                                             
30 BLOCK 3,x,y                                                                  
                                                                                
  The BLOCK command places a pre-defined block n at co-ordinates x,y on your    
map. For instance, if you had designed a large door that used more than one     
tile on your map, and you wanted it to open and close, you could create the     
opened and closed blocks with the editor, store them as a block bank (Bloaded   
into a work or data bank) and then whenever you wanted to change the door, just 
use the block command to place the relevent block at the correct co-ordinates.  

„Functions …                                                                    

  TOME has 3 extra function commands, allowing you to retrieve data from TOME.  

Function: MAP TILE()                                                            

Syntax  : =MAP TILE(x,y)                                                        
                                                                                
e.g                                                                             
30 T=MAP TILE(2,3)                                                              
                                                                                
  The MAP TILE function allows you to find out what tile is at a particular     
co-ordinate. This is very usefull if you want to do collision detection with    
certain tiles for instance.                                                     
                                                                                
Function: MAP X() and MAP Y()                                                   
                                                                                
Syntax  : =MAP X(b) , or =MAP Y(b)                                              
                                                                                
e.g                                                                             
40 print MAP X(0)                                                               
50 Y=MAP Y(2)                                                                   
                                                                                
  The MAP X and MAP Y functions return the width and height of the map in map   
bank b, or the current map width & height if b=0.                               
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                







                             „The Editor …                                      
  The TOME editor is loaded as an accessory, so to load it type:                
accload "TOME.ACB"                                                              
  After a short intro, the editor should show you a view on the current map, a  
set of tiles to the right, and a menu underneath the map.                       
  The cursor is controlled with the mouse, the left button selecting and        
placing tiles. The joystick is used to move the map around.                     
  „The Menu Functions …                                                         
„The Locator. …     The X....Y.... Button shows you the top left co-ordinate of 
the piece of the map you are looking at. By clicking on this button, you go     
into locator mode, where you can STORE a location by moving to it and clicking  
STORE, or RECALL a previously stored location. Up to 10 locations can be        
stored. By clicking the locator button again, you can type in the co-ordinates  
for where you want to view.                                                     
„DISK …             The disk menu allows you to Load & Save maps, as well as    
loading in tile screens. Although the Tile screen Loader has the suffix ".PI1"  
on the file selector, you can change it to ".NEO" to load in Neochrome          
pictures, or to ".MBK" to load in screens that are stored as memory banks.      
The RESIZE button allows you to change the size of the map. This version of the 
editor will let you do maps that are 40-255 tiles wide and 20-255 tiles high.   
It will take a while to resize the map, and it will destroy the current map, so 
be carefull !                                                                   
„TILE …This allows you to pick a tile direct from the tile screen rather than   
scrolling the tile selector box up and down to find the one you want.           
„NICENESS …The three niceness controls let you change the colour of the         
editor's text, buttons and background, to make it easier to work with.          
„BOX …The box function allows you to fill large areas of the map with one tile. 
When selected, the cursor will change to a box corner. Click this on the map    
where you want the top left corner of your box to be. Then, when the cursor     
changes to the opposite corner, click on the map where you want the bottom      
right to be. A box will then be drawn using the current tile.                   
„CLEAR …The clear button fills all the map in with the current tile.            
„BLOCK …The block edit mode is a powerfull map editing facility unique to TOME, 
in that the blocks you design with the editor, can be used in your STOS games.  
There are 2 basic functions in the block editor, CUT and PASTE. There is also   
an indicator to show you which block you are working on, with scroll arrows to  
the left and right of it. To view the current block, click on the indicator.    
  To create a block, click on CUT. You must then mark out the block you want in 
the same way as you would draw a box. The area of the map marked is then copied 
to the block bank. You can then click on PASTE and draw with the block as if it 
were a tile.                                                                    
  So that your blocks can be used in your games, a SAVE to DISK option is       
included. This saves your blocks as a ".BLK" file, which must be BLOADed into a 
memory bank before use.                                                         


  O.K, that's it ! The MK2 version of the editor is basically more user         
friendly and has a few new features, but you should be able to use this one to  
create games with (it's the one I've been using so far !). The MK2 version and  
the demo game, "TIN GLOVE", will be posted to you as soon as they are finished! 
  If you have any problems with TOME, don't hesitate to phone on (0271) 23544   
and we will help out.                                                           
