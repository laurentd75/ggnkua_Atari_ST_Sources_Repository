%format latexg
%-MWL- énderungen (siehe auch markierte Zeilen)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-MWL- Titelseite erweitert - siehe dort
%-MWL- Seitennumerierung (Seite 1 kommt nach toc) und deren Ausgabe geÑndert
%-MWL- \newpage- und \linebreak-Stellen an A4-Format angepaût
%-MWL- aus gleichem Grund Absatz-Spacing geÑndert
%-MWL- \newpage wg. twoside-Substyle durch \cleardoublepage ersetzt
%-MWL- Bindestrich-Spacing korrigiert (`-' statt ` - ')
%-MWL- alle \@ im Text entfernt, weil durch \frenchspacing ÅberflÅssig
%-MWL- PLZs in Compilertabellen korrigiert (Rolf ist TrÅmpf!)
%-MWL- Compilertabellen an A4-Seitenformat angepaût, Åbersichtlicher (\hline)
%-MWL- vier Tippfehler korrigiert
%-MWL- Querverweis eingefÅgt (\label, \ref, \pageref)
%-MWL- Module etc. im Flieûtext hervorgehoben (siehe Definition \mfname)
%-MWL- ... bei dieser Gelegenheit einige \verb|...| in \mfname geÑndert
%-MWL-                                 (wg. Lesbarkeit ohne lokale Kommentare)
%-MWL- der typografischen Konsistenz halber einige \verb+...+ eingefÅgt
%-MWL- aus gleichem Grund Texthervorhebungen in Index Åbernommen
%-MWL- im Abschnitt Åber X/GEM die Funktionsnamen von M2-Schreibweise zur
%-MWL-   GEM-Åblichen C-Schreibweise geÑndert (evnt_multi() bzw. evnt_event())
%\documentstyle[11pt,german,makeidx]{article}%-MWL-
%-MWL- Papier sparen...
\documentstyle[twoside,makeidx,german,din_a4]{article}%-MWL-
%
\parindent 0pt
\parskip 0.4ex plus 0.2ex%-MWL- neu
\frenchspacing%-MWL- neu
%
%\typein[\nr]{Welches Kapitel? }
%\includeonly{\nr}
%
%-MWL- Verwaltungskram, wird auf Titelseite verwurstet
%-MWL- -!- bei énderung des Inhaltes anpassen!
\newcommand{\crystaldate}{11. Dezember 1995}
%
\newcommand{\anf}[1]{"`#1"'}
%-MWL- Folgendes ist ÅberflÅssig, da \@ durch \frenchspacing wirkungslos wird:
%\newcommand{\abk}[1]{#1\@}%-MWL-
%-MWL- Folgendes wird nie gebraucht, daher auskommentiert...
%\newcommand{\nopagenumber}{\renewcommand{\thepage}{}}%-MWL-
%
%-MWL- Folgendes wird nie gebraucht, daher auskommentiert...
%Die folgenden %-Zeichen nicht entfernen!
%
% \newcommand{\deflabel}[1]{\bf #1\hfill}%%-MWL-
% \newenvironment{deflist}[1]%%-MWL-
% {\begin{list}{}%%-MWL-
% {\settowidth{\labelwidth}{\bf #1}%%-MWL-
% \setlength{\leftmargin}{\labelwidth}%%-MWL-
% \addtolength{\leftmargin}{\labelsep}%%-MWL-
% \renewcommand{\makelabel}{\deflabel}}}%%-MWL-
% {\end{list}}%%-MWL-
%
%-MWL- Hervorhebung von Moduln und Funktionen im Flieûtext wg. öbersicht
%
\newcommand{\mfname}[1]{\mbox{\sf #1}}%-MWL-
%

\makeindex

\begin{document}
\begin{titlepage}
\begin{center}
%{\Huge\bf crystal}\\%-MWL-
\vfill %-MWL-
{\Huge\bf crystal}\\[12mm]%-MWL- etwas mehr Information auf die Titelseite!
{\Large Eine Standard-GEM-Bibliothek fÅr Modula-2}\\[30mm]%-MWL-
{\rule[0.4ex]{0.15\textwidth}{0.4pt}%
\rule{0.06\textwidth}{0pt} von \rule{0.06\textwidth}{0pt}%
\rule[0.4ex]{0.15\textwidth}{0.4pt}}\\[6mm]%-MWL-
{\large Ulrich Kaiser\\}%-MWL-
{\large KÅhlenbergstraûe 34\\}%-MWL-
{\large D-97078 WÅrzburg\\}%-MWL-
%{\large Telefon\#~+49~931~280\,214\\}%-MWL- falls Du Deine Tele# verîffentlichen willst...
{\large email: \verb+kaiser.noelldo@mhs.noell.de+\\}%-MWL-
\vfill %-MWL-
{\small Aufbereitet mit \TeX\,3.141/\LaTeX\,2.09/{\sf NFSS} auf Atari\,TT}\\%-MWL-
{\small Stand der Dokumentation: \crystaldate}\\%-MWL-
{\small Letzter \TeX -Lauf: \today}\\[0.5ex]%-MWL-
\end{center}
\end{titlepage}
%
\pagestyle{empty}%-MWL-
\tableofcontents

\newpage %-MWL- falls toc lÑnger als eine Seite wird, folgende Zeile benutzen!
%\cleardoublepage %-MWL- damit beginnt der folgende Text auf einer rechten Seite
\pagenumbering{arabic} %-MWL-
\pagestyle{headings}%-MWL-
\section{EinfÅhrung}
\subsection{Was ist \anf{crystal}?}
\anf{crystal} ist der Versuch, fÅr Modula-2 eine Standard-GEM-Bibliothek
zu schaffen.\\[3pt]%-MWL- NÑchstes Wort immer an Zeilenanfang!
\anf{crystal}
\begin{itemize}
\item berÅcksichtigt
   \begin{itemize}
   \item ATARI-GEM 1.0, 1.2, 1.4, 3.x, 4.x
   \item MultiGEM, MagX 2.x, MagiC 3.x, Geneva \index{Geneva}
   \item GDOS, AMCGDOS, FSMGDOS, SpeedoGDOS, NVDI 3.x
   \item ABC-GEM 2.x,
   \item KAOS-GEM 1.42,
   \item PC-GEM 1.2, PC-GEM 2.x, GEM/3,
   \item X/GEM,
   \item X/GemOnX, \index{X/GemOnX}
   \end{itemize}
\item fÑngt Unterschiede zwischen den einzelnen GEM-Versionen ab
\item ist hochportabel
\item ist vollstÑndig angepaût an TopSpeed-M2, TDI-M2,
      Megamax-M2, HÑnisch-M2/ST, SPC-M2, LPR-M2
\item ist teilweise angepaût an Logitech-M2,
      Software Developing System-M2, Fitted Software Tools-M2,
      Modular Software-M2, ana-M2/ST, FTL-M2
\item bietet C-nahe Bezeichner,
      aber trotzdem kein Verzicht auf das
      Typenkonzept von Modula, d.h.
\item bietet neben Konstanten auch Mengen, AufzÑhlungen, Unterbereiche,
      Prozedurtypen und Pointertypen,
      \anf{QUALIFIED  REEXPORT}  von Typen und Konstanten, \index{QUALIFIED REEXPORT}
      Typsynonyme
\item besitzt einen effizienten AES-Aufruf fÅr MC 680x0-Systeme (modifiziertes
      Seimet-Verfahren)\index{Seimet-Verfahren}
\item ist frei kopierbar -- der Quelltext liegt offen und kann
      an jedes geeignete Modula-System angepaût werden
\item bietet eine stÑndig wachsende Zahl zusÑtzlicher Moduln
\end{itemize}

%\newpage%-MWL-
\subsection{Vorgeschichte}
\anf{crystal} entstand aus der Situation, daû mit den meisten
ATARI-Modula-Systemen zwar GEM-Pro\-gram\-me erstellt werden konnten,
jedoch jeder Hersteller seine eigene Art und Weise, GEM-Aufrufe
zu tÑtigen, anbot. Es gab also keinen Standard, hîchstens eine
Art \anf{TDI-Standard}, da TDI wohl einer der ersten Modula-Compiler
war, der fÅr den GEM-Rechner ATARI ST verfÅgbar war. Man war sich
einig, daû ein GEM-Standard aus der Taufe gehoben werden
muûte. Ein Streit entbrannte Åber die Namensgebung und die
Modulaufteilung bzw.  die Namensgebung der Moduln. Die originalen
C-Aufrufe benutzen z.B.  einen Unterstrich (\_), den es jedoch im
damaligen Modula-Standard nach Wirth nicht gab. Und es gab Compiler, die
erlaubten trotzdem einen Unterstrich, andere jedoch hielten sich an Wirth.
Nachdem der Grundstein fÅr \anf{crystal} gelegt worden war, hat es daher
noch einige Zeit gedauert, bis das Konzept von \anf{crystal} klar war.

\subsection{Das Konzept von \anf{crystal}}
Die Namensgebung\index{Namensgebung} bei \anf{crystal} ergibt sich aus dem
jeweiligen C-Bezeichner,
aus dem die Unterstriche entfernt werden, bei dem die im Bezeichner
enthaltenen
AbkÅrzungen nach Modula-Manier, sprich in Groû-/Kleinschreibung
ausgeschrieben werden und dann unter Beibehaltung der Groû-/Kleinschreibung
wieder zurÅckgekÅrzt werden. Zur Verdeutlichung dient ein Beispiel:
%-MWL- hier kein Absatz
\begin{enumerate}
\item \verb+graf_mkstate+
\item grafmkstate
\item GraficsManagerMouseAndKeyboardState
\item \mfname{GrafMKState}
\end{enumerate}
%-MWL- hier kein Absatz
Diese Vorgehensweise erscheint nicht unbedingt naheliegend, stellt jedoch
eine Mîglichkeit dar, aus einem \anf{C-Look} einen
\anf{Modula-Look} zu machen, ohne auf die aus der Literatur gelÑufigen
\anf{Buchstabenfolgen} verzichten zu mÅssen und dabei noch die Compiler,
die (noch) keinen Unterstrich zulassen, zu berÅcksichtigen.

Soweit Namen fÅr Typen vergeben werden muûten, die in den C-Bindings
dank des spartanischen Typenkonzepts von C nicht vorgesehen waren,
wurden keine neuen, kÅnstlichen C-Namen erfunden, sondern
\anf{Modula-like} Namen gewÑhlt. Diese Namen stellen wohl die
eigentliche Schwierigkeit beim Umstieg von anderen Bibliotheken auf
\anf{crystal} dar.

%\newpage %-MWL-
\cleardoublepage %-MWL- damit beginnt der folgende Text auf einer rechten Seite
\section{öbersetzen von \anf{crystal}}
\subsection{Arbeiten mit dem PrÑprozessor}
\index{PrÑprozessor}
Was der Programmiersprache C zur PortabilitÑt verhilft, nÑmlich
der C-PrÑprozessor, verhilft auch Modula-2 -- insbesondere bei
systemnahen Dingen wie GEM -- zur PortabilitÑt. Viele Unterschiede
zwischen den verschiedenen Modula-Compilern (wie auch bei C-Systemen)
kînnen abgefangen werden.
Es wurde jedoch Wert darauf gelegt, den PrÑprozessor-Code umso mehr
zu verringern, je hîher ein Modul Åber der GEM-Systemebene angesiedelt
ist. Hauptmoduln wie die beiliegenden Testprogramme kommen vîllig ohne
PrÑprozessor aus, desweiteren auch viele auf den GEM-Aufrufen aufbauende,
hîhere Moduln. Dort markiert der PrÑprozessor u.U.  nur noch das Datum
und trÑgt die Compileroptionen ein.

Legen Sie von den unter Verwendung des C-PrÑprocessors-Codes erstellten
Quelltexten aus dem Verzeichnis
%\verb|...%-MWL- ersetzt durch
\dots\verb|\src| Kopien an. Diese Kopien
Åbersetzen Sie dann mit einem Shell-Script, das z.B.  wie folgt lautet
(vgl.
%\verb|...%-MWL- ersetzt durch
\dots\verb|\bin\mupfel\c.mup|):
%-MWL- kein Absatz hier
\begin{verbatim}
echo cpp $1 fÅr $2...
cpp $1 -D$2 -P -imacros C:\USR\INCLUDE\CRYSTAL.M2H > temp
x2d1 <temp >$1
rm temp
\end{verbatim}
%-MWL- kein Absatz hier
Ein Aufruf dieses Shell-Scripts kann z.B.
%-MWL- kein Absatz hier
\begin{verbatim}
c aes.mod HM2
\end{verbatim}
%-MWL- kein Absatz hier
lauten. Dabei ist \verb|aes.mod| in diesem Beispiel der Name des Quelltextes,
\verb|HM2| eine AbkÅrzung
fÅr einen ganz bestimmten Compiler, s.  Liste der Modula-Compiler
%-MWL- Querverweis eingefÅgt
(Kap.\,\ref{secModComp} ab S.\pageref{secModComp}).

\verb|cpp|\index{cpp@{\verb+cpp+}} ist der C-PrÑprozessor. Er sollte in einem Verzeichnis
abgelegt sein, in dem er auch von der verwendeten Shell gefunden wird. Das
gleiche gilt fÅr das Script. Meist
ist ein solches Verzeichnis in der Environmentvariablen \verb|PATH=|
aufgelistet. Angenommen, \verb|cpp.ttp| liegt im Verzeichnis
\verb|d:\bin\|
 und \verb|c.mup| im Verzeichnis \verb|d:\usr\local\bin\|,
dann schreiben Sie z.B.  im \verb|profile.mup|:
\begin{verbatim}
export PATH="d:\bin;d:\usr\bin;d:\usr\local\bin;."
\end{verbatim}

Mit Hilfe der Option \verb|-D| wird die an das
Script Åbergebene AbkÅrzung als PrÑprozessor-Konstante definiert. Die
Option \verb|-P| unterdrÅckt unerwÅnschte Kommentare im Output des
PrÑprozessors, die Option \verb|-imacros| lÑdt ein Includefile\index{Includefile}
schon beim Aufruf des PrÑprozessors. Der Name des Verzeichnisses, in dem das
Includefile \verb|crystal.m2h| abgelegt ist, ist natÅrlich an Ihre
eigenen VerhÑltnisse anzupassen. \verb|x2d1|\index{x2d1@{\verb+x2d1+}} ist ein Beautifier,
der Zeilenenden mit \verb|CR LF| abschlieût und ÅberflÅssige Leerzeilen
entfernt. Er sollte ebenfalls in einem Verzeichnis liegen, in dem er von
der verwendeten Shell gefunden wird.
Um sÑmtliche Moduln mit dem PrÑprozessor zu bearbeiten, benutzen Sie am
besten das Script
%\verb|...%-MWL- ersetzt durch
\dots\verb|\bin\c_all.mup|, das Sie z.B.  wie folgt aufrufen:
%-MWL- kein Absatz hier
\begin{verbatim}
c_all HM2
\end{verbatim}
%-MWL- kein Absatz hier
Dieses Script geht davon aus, daû zum aktuellen Verzeichnis die
Unterverzeichnisse \verb|crystal| und \verb|toolbox| existieren.
Passen Sie ggf.  dieses Script an Ihre VerhÑltnisse und WÅnsche an.

\newpage
\subsection{Hinweise zu Compilern}
\subsubsection{Fitted Software Tools-Modula V 3.1}
\index{Fitted Software Tools}
Die maximale Anzahl der Bezeichner pro Modul, \mfname{maxIds}, und der dafÅr
reservierte Speicherplatz, \mfname{idSpace},
ist doch etwas zu knapp bemessen.
Starten Sie daher FSTM2 mit der Batchdatei \linebreak[2]
%\verb|...%-MWL- ersetzt durch
\dots\verb|\sys\fstm2\fstm2.bat|.
Denken Sie
daran, daû eine GEM-Applikation noch etwas DOS-Speicher frei lassen
muû. Dies wird z.B.  in der Batchdatei
%\verb|...%-MWL- ersetzt durch
\dots\verb|\sys\fstm2\fstmake.bat|
gemacht.

Die Anpassung an diesen Compiler ist vorÅbergehend eingestellt, solange
keine Compiler-Version zur VerfÅgung steht, bei der Prozeduren -- wie
bei anderen Compilern auch -- Sets zurÅckliefern dÅrfen.

\subsubsection{ana-Modula}\index{ana-Modula}
Dieser Compiler (V 1.9) verlangt noch nach Exportlisten\index{Exportlisten}.
Weiterhin unterstÅtzt er keinerlei 16-Bit-Zahlenoperationen, sondern nur
32-Bit-Arithmetik. Beide Features wurden eine Zeit lang unterstÅtzt, z.B.  durch
die PrÑprozessor-Variable \anf{export} (vgl.  noch \verb+PORTAB.DEF+) und
\anf{long}, und es waren portable GEM-Programme lauffÑhig. Doch mit der Zeit
setzte sich die Meinung durch, daû das oft erforderliche Umwandeln von
16-Bit-GEM-Daten in 32-Bit-Daten und eventuell wieder zurÅck zwar portabel, aber
untragbar war. Wer will, kann \anf{crystal} insoweit ergÑnzen, daû Quelltexte
wieder portabel zu ana-Modula werden. Aber vielleicht gibt es mittlerweile eine
neuere Version dieses Compilers?

\subsubsection{TopSpeed-Modula V 1.17}
\index{TopSpeed-Modula V 1.17}
Um mit TopSpeed-Modula ein GEM-Programm linken zu kînnen, sind
die Hinweise in der Zusatzdokumentation unter dem Punkt
\anf{Controlling the Order of Classes} zu beachten, d.h.  es
muû die Datei \verb|order.obj| hinzugelinkt werden. Zur Erleichterung
dient die Batchdatei
%\verb|...%-MWL- ersetzt durch
\dots\verb|\sys\tsm2_1\gl.bat|. Denken Sie
daran, daû eine GEM-Applikation noch etwas DOS-Speicher frei lassen
muû. Dies wird ebenfalls exemplarisch in der Batchdatei \verb|gl.bat| gemacht.

Weiterhin ist zu beachten, daû die AES- und VDI-EinsprÅnge in den
Assemblermoduln \mfname{AESSYS} und \mfname{VDISYS} getÑtigt werden. Sie befinden sich
im gleichen Verzeichnis wie \verb|gl.bat|.

\subsubsection{HÑnisch-Modula}
\index{HÑnisch-Modula}
Im neuesten HÑnisch Compiler gibt es bereits \mfname{BYTESET}, \mfname{LONGSET}
und \mfname{VOID} als Standardbezeichner. Um einen Konflikt mit dem Modul
\mfname{INTRINSIC}\index{INTRINSIC@\mfname{INTRINSIC}} zu vermeiden, muû
\verb|HM.ACC| gepatcht werden, d.h.  ersetzen Sie obige Bezeichner z.B.  durch
\mfname{BYTESet}, \mfname{LONGSet} und \mfname{Void}.

\subsubsection{SPC-Modula}
\index{SPC-Modula}
Compilieren Sie
%-MWL- kein Absatz hier
\begin{verbatim}
MAKE_1ST.CMD (Basis-Moduln)
MAKE_2ND.CMD (nur falls Sie M2POSIX oder M2LIB besitzen)
MAKE_3RD.CMD (AES)
MAKE_4TH.CMD (VDI)
MAKE_5TH.CMD (ToolBox)
MAKE_6TH.CMD (Sonstige)
\end{verbatim}
%-MWL- kein Absatz hier
in dieser Reihenfolge.

\subsubsection{TDI-Modula}
\index{TDI-Modula}
Compilieren Sie
%-MWL- kein Absatz hier
\begin{verbatim}
MAKE_1ST.BAT (Basis-Moduln)
MAKE_2ND.BAT (nur falls Sie M2POSIX oder M2LIB besitzen)
MAKE_3RD.BAT (AES)
MAKE_4TH.BAT (VDI)
MAKE_5TH.BAT (ToolBox)
MAKE_6TH.BAT (Sonstige)
\end{verbatim}

in dieser Reihenfolge.

\subsubsection{LPR-Modula}
\index{LPR-Modula}
Bei LPR-Modula kommt es beim Compilieren und Linken sowie beim Start des
Debuggers und eventuell auch des LPR-Editors zu einem Konflikt
zwischen dem bereits vorhandenen
\mfname{AES}-Modul und dem \mfname{AES}-Modul
von \anf{crystal}. Entweder
Sie verzichten auf den Debugger und Ñhnliche Programme und verschieben
die Original \mfname{AES}-Moduln (\verb+AES.SBM+  und \verb+AES.OBM+)
in ein Verzeichnis, in dem die Dateien vom LPR-System nicht
gefunden werden, oder Sie mÅssen das LPR-System patchen, siehe dazu
die Datei
%\verb|...%-MWL- ersetzt durch
\dots\verb|\sys\lprm2\lprm2.txt|.

Ein Programm, das nur Moduln aus \anf{crystal} verwendet, benîtigt vom
LPR-System nur \verb+GEMX.OBM+, \verb+SYSTEM.OBM+, \verb+TERMINAL.OBM+ und
\verb+HEAP.OBM+.

Mit Hilfe von Dateien, deren Extension auf \verb|*.CM?| lautet, kann man
dem Compiler eine Liste von zu Åbersetzenden Moduln Åbergeben. éndern
Sie zu diesem Zweck einfach die Suchmaske der Fileselektorbox bei
\anf{\verb|Modul auswÑhlen|} von
\verb|*.MOD| nach \verb|*.CM?|, wÑhlen z.B.  \verb|MAKE_1ST.CMP|
aus und rufen dann \anf{\verb|Åbersetzen   Ctrl+Å|} auf. öbersetzen Sie
%-MWL- kein Absatz hier
\begin{verbatim}
MAKE_1ST.CMP (Basis-Moduln)
MAKE_2ND.CMP (nur falls Sie M2POSIX oder M2LIB besitzen)
MAKE_3RD.CMP (AES)
MAKE_4TH.CMP (VDI)
MAKE_5TH.CMP (ToolBox)
MAKE_6TH.CMP (Sonstige)
\end{verbatim}
%-MWL- kein Absatz hier
in dieser Reihenfolge. Die Reihenfolge dieser Dateien und auch die
darin enthaltene Reihenfolge von Moduln sollte nicht unÅberlegt
geÑndert werden, da in diesen Listen die AbhÑngigkeiten der Moduln
berÅcksichtigt sind.

Um den Heap eines LPRM2-Compilates zu vergrîûern, muû der Linker gepatcht
werden. Dazu dient das Programm
\verb|fixlink.tos|\index{fixlink.tos@{\tt fixlink.tos}}  aus der M2LIB, welche
Sie sich unbedingt z.B. via anonymous ftp oder aus der ST-Computer-PD-Serie
besorgen sollten.

\subsubsection{Modular Software-Modula}
\index{Modular Software-Modula}
FÅr dieses System existiert nur eine grobe Anpassung, da der
Compiler doch {\em sehr\/} viel zu wÅnschen Åbrig lÑût.

\subsubsection{FTL-Modula}
\index{FTL-Modula}
Dieser Compiler scheint irgendwie Probleme mit dem Reexport\index{Reexport}
zu haben.
Tritt beim öbersetzen eines Implementationsmoduls die Fehlermeldung
\anf{Name mehrfach deklariert} auf, ist die angebliche
Mehrfachdeklaration im zugehîrigen Definitionsmodul zu suchen. Bei der
Anpassung an diesen Compiler wurde immerhin soweit Sorge getragen, daû
sich die Testprogramme \mfname{Hello} und \mfname{VDITest} Åbersetzen und ausfÅhren
lassen.

\subsubsection{Anpassung an andere Compiler}
\index{andere Compiler}
ZunÑchst mÅssen in \verb+CRYSTAL.M2H+\index{CRYSTAL.M2H@\verb+CRYSTAL.M2H+} alle
systemnahen Eigenheiten des Compilers, z.B. die Anordnung von AufzÑhlungstypen
innerhalb von \mfname{RECORD}s, angegeben werden. In \verb+PORTAB.DEF+ mÅssen
Typen wie \mfname{UNSIGNEDWORD} festgelegt werden. In \verb+AES.MOD+ und
\verb+VDI.MOD+ muû der (Assembler-) Aufruf von AES und VDI bewÑltigt werden. In
\mfname{AESTool.NewObject()} schlieûlich muû eine C-kompatible Rahmenfunktion
bereitgestellt werden.

%\newpage%-MWL-
\subsection{Hinweise zu den verschiedenen GEM-Versionen}
\subsubsection{ATARI-GEM}
\index{ATARI-GEM}
Das ATARI-GEM wird mittlerweile von ATARI selbst weiterentwickelt.
Mit dem Betriebssystem TOS 1.04 kamen die neuen AES-Aufrufe
\verb+fsel_exinput()+ und \verb+wind_new()+. Mit dem neuen MultiTOS\index{MultiTOS}
werden die AES multi\-tasking\-fÑhig. Die MenÅ-Bibliothek wird um
Popup- und SubmenÅs erweitert. Es gibt eine Reihe von neuen
\verb+shel_write()+-Modi.\\
Nicht zu vergessen ist das ABC-GEM 2.2\index{ABC-GEM}
der hollÑndischen Firma
ABC-Software, welches PC-GEM 2.2 fÅr den ATARI zur VerfÅgung
stellt, incl.  einer neuen GEM-Draw-Version, GEM-Paint,
GEM-Graph, GEM-Wordchart\index{GEM-Wordchart} und einem neuen
GEM-Output. Von allen diesen Programmen sind Demo-Versionen erhÑltlich.

\subsubsection{PC-GEM}
\index{PC-GEM}
Die letzten PC-GEM-Versionen machten vor allem durch die im VDI eingebauten
Bezierfunktionen, von denen GEM-Artline intensiven Gebrauch machte, von sich
reden. Seit GEM 2.x durfte der GEM-Desktop (nicht GEM an sich!) aufgrund eines
Streites mit Apple\index{Apple} nur noch zwei Fenster anbieten.

\subsubsection{X/GEM}\index{X/GEM}
Dies ist ein Realtime-Multitasking-GEM unter dem
Realtime-Multitasking-Operatingsystem FlexOS, beides von DRI.\index{DRI} Man
bedenke, daû es sehr wenige Realtime-Multitasking-Operatingsysteme
\index{Realtime-Multitasking} gibt (UNIX\index{UNIX} ist bis auf
Spezialversionen nicht echtzeitfÑhig!). Daher bilden X/GEM und FlexOS ein
wirklich sehr exklusives Gespann! Es wird hauptsÑchlich zu Meû-, Steuer- und
Regelzwecken eingesetzt, z.B.  bei Siemens\index{Siemens}.

Rein Ñuûerlich ist X/GEM am \anf{PC-Look} zu erkennen, jedoch ohne EinschrÑnkung
der Fensterzahl. Jede Applikation erhÑlt einen Desktop in einem Fenster, das in
der Grîûe verÑnderbar ist. Selbst der Desktop des \anf{Desktop} befindet sich in
einem Fenster. Darunter befindet sich dann das {\em Nichts}, d.h. der blanke
Bildschirm. öbrigens gibt es Adimens auch fÅr X/GEM (Adimens GTX\index{Adimens
GTX}).

%-MWL- Im Original standen im folgenden Absatz die Funktionsnamen in
%-MWL- M2-Schreibweise (\mfname{EvntMulti} bzw. \mfname{EvntEvent}).
%-MWL- Der Konsistenz zur GEM-Åblichen C-Schreibweise geÑndert!
Auf der Programmierebene bietet X/GEM einen erweiterten
\verb+evnt_multi()+-Aufruf: er heiût schlicht\linebreak %-MWL- wg. din_a4
\verb+evnt_event()+\index{evnt_event()@\verb+evnt_event()+} und ist zu \verb+evnt_multi()+
abwÑrtskompatibel.

FlexOS\index{FlexOS} ist POSIX-orientiert\index{POSIX}, netzwerkfÑhig und bietet
die Mîglichkeit zur Laufzeit GerÑtetreiber einzubinden. FlexOS lÑuft erst ab
intel 80286\index{intel 80286} aufwÑrts und hat mit DOS nur noch das Dateisystem
gemeinsam.

\subsubsection{X/GemOnX}
\index{X/GemOnX}
Diese GEM-Version stammt nicht von DRI, sondern von der bayrischen Firma
X/software\index{X/software}. X/GemOnX lÑuft -- der Name lÑût es schon
vermuten -- unter
UNIX\index{UNIX} und X-Windows\index{X-Windows}.

X/GemOnX folgt der Client-Server-Architektur\index{Client-Server}.
Einer Applikation werden Libraryfunktionen hinzugelinkt, die Befehle und
Argumente in Pakete packen, Åber UNIX-Interprozeû-Kommunikation
(UNIX domain sockets\index{domain sockets} oder TCP/IP\index{TCP/IP}) an
den X/GemOnX-Server senden, RÅckgabedaten auspacken und der Applikation
zur VerfÅgung stellen. Daneben gibt es asynchrone Mechanismen fÅr die
Events und die user defined objects. Wie bei X-Windows mÅssen
X/GemOnX-Clients und X/GemOnX-Server nicht auf ein und demselben
Rechner laufen. Daraus ergibt sich, daû die Resource\index{Resource} sich im
Adreûraum des X/GemOnX-Servers befindet, also nicht direkt im Speicher
der Applikation ansprechbar ist. Solange man als C-Programmierer die
Makros aus \verb|taddr.h|\index{taddr.h@{\verb+taddr.h+}} benutzt hat, gibt es keine
Probleme beim Portieren. Die wenigsten werden sich daran gehalten haben
(C-Programmierer\index{C-Programmierer} halten C fÅr portabel, programmieren
aber zu oft unportable Dinge damit). Bei \anf{crystal} ist u.a.\ deswegen der
Zugriff auf AES-Objekte Åber Funktionen aus den Moduln
\mfname{GetObject}\index{GetObject@\mfname{GetObject}} und
\mfname{SetObject}\index{SetObject@\mfname{SetObject}} obligatorisch.

%\newpage%-MWL-
\subsection{\anf{crystal} und M2POSIX, M2LIB}
\index{M2POSIX}\index{M2LIB}
Das M2POSIX-Paket, erhÑltlich z.B.  von \verb|ftp.atari.archive.umich.edu|,
\verb|ftp.uni-kl.de| oder\linebreak %-MWL- wurde nîtig wg. din_a4/10pt
\verb|ftp.cs.tu-berlin.de| (Dateiname: \verb|M2POSIX??.ZOO|) bzw.  das
M2LIB-Paket, erhÑltlich als ST-COM\-PU\-TER-PD Nr.\,782 und 783,
\index{ST-COMPUTER PD} enthÑlt wie \anf{crystal} die Moduln \mfname{pSTORAGE}
und \mfname{PORTAB}. \index{pSTORAGE@\mfname{pSTORAGE}}\index{PORTAB@\mfname{PORTAB}} Diese sollte mit denjenigen
von \anf{crystal} identisch sein, sodaû man entweder die einen oder die anderen
benutzen kann. NatÅrlich sollte man \mfname{PORTAB} und \mfname{pSTORAGE} aus
dem M2POSIX- bzw.  M2LIB-Paket nicht nochmal Åbersetzen, nachdem man diejenigen
aus \anf{crystal} Åbersetzt hat.

Im Falle von ATARI-GEM importiert \anf{crystal} aus dem M2POSIX-bzw.
M2LIB-Paket z.B.  die Funktion \mfname{DosSystem.GetCookie()} sowie einige
weitere POSIX-Funktionen fÅr das Modul \mfname{ScrpMgr}. Der PrÑprozessor gibt
Warnmeldungen aus, sobald Dinge aus M2POSIX benutzt werden.

%\newpage %-MWL-
\cleardoublepage %-MWL- damit beginnt der folgende Text auf einer rechten Seite
\section{Beschreibung der Moduln}
\subsection{Namensgebung}
%
%-MWL- den folgenden Flieûtext Åbersichtlicher als Liste formatiert
%
% SÑmtliche AES-Moduln besitzen Namen der Form \verb+????MGR.*+.
% SÑmtliche VDI-Moduln beginnen mit einem \verb+V+.
% Moduln namens \verb+????TOOL.*+  stellen im allgemeinen Erweiterungen zu
% entsprechenden AES- und VDI-Moduln zur VerfÅgung.
\begin{itemize}
\item SÑmtliche AES-Moduln besitzen Namen der Form \verb+????MGR.*+.
\item SÑmtliche VDI-Moduln beginnen mit einem \verb+V+.
\item Moduln namens \verb+????TOOL.*+  stellen im allgemeinen Erweiterungen zu
      entsprechenden AES- und VDI-Moduln zur VerfÅgung.
\end{itemize}

\subsection{Das Modul \mfname{PORTAB}}
\index{PORTAB@\mfname{PORTAB}}
Dieses systemabhÑngige Modul stellt Typen zur VerfÅgung, die jeweils eine
bestimmte Anzahl von Bytes belegen sollen um damit Datenstrukturen von fremdem
Code, z.B.  die AES-und VDI-Eingabearrays, nachbilden zu kînnen. Wichtig ist,
daû hier systemabhÑngige Dinge an zentraler Stelle geÑndert werden kînnen. Damit
wird dem Vorwurf von Prof.  Wirth\index{Wirth}, daû Modula-Programmierer zu oft
auf Dinge aus \mfname{SYSTEM} zugreifen, Rechnung getragen.\\ Beispiel fÅr
irgendein herausgegriffenes System:
%-MWL- kein Absatz hier
\begin{verbatim}
DEFINITION MODULE PORTAB;

IMPORT SYSTEM;

(* fixed Types *)

TYPE UNSIGNEDBYTE = [0..255];
     SIGNEDBYTE   = [-128..127];
     ANYBYTE      = SYSTEM.BYTE;

     UNSIGNEDWORD = SHORTCARD;
     SIGNEDWORD   = SHORTINT;
     ANYWORD      = SYSTEM.WORD;

     UNSIGNEDLONG = CARDINAL;
     SIGNEDLONG   = INTEGER;
     ANYLONG      = SYSTEM.LONGWORD;

     BYTESET = PACKEDSET OF [0..7];
     WORDSET = PACKEDSET OF [0..15];
     LONGSET = PACKEDSET OF [0..31];
\end{verbatim}
%-MWL- kein Absatz hier
\index{UNSIGNEDBYTE@\mfname{UNSIGNEDBYTE}}
\index{SIGNEDBYTE@\mfname{SIGNEDBYTE}}
\index{ANYBYTE@\mfname{ANYBYTE}}
\index{UNSIGNEDWORD@\mfname{UNSIGNEDWORD}}
\index{SIGNEDWORD@\mfname{SIGNEDWORD}}
\index{ANYWORD@\mfname{ANYWORD}}
\index{UNSIGNEDLONG@\mfname{UNSIGNEDLONG}}
\index{SIGNEDLONG@\mfname{SIGNEDLONG}}
\index{ANYLONG@\mfname{ANYLONG}}
\index{BYTESET@\mfname{BYTESET}}
\index{WORDSET@\mfname{WORDSET}}
\index{LONGSET@\mfname{LONGSET}}
%-MWL- kein Absatz hier
\begin{verbatim}
(* for open Arrays *)

TYPE ANYTYPE = SYSTEM.LOC;
\end{verbatim}
\index{ANYTYPE@\mfname{ANYTYPE}}
%-MWL- kein Absatz hier
Je nach Compiler mÅssen fÅr typfreie, offene Felder \mfname{BYTE}, \mfname{WORD}
oder \mfname{LOC} aus \mfname{SYSTEM} importiert werden.
Der Typ \mfname{ANYTYPE} stellt eine portablere Mîglichkeit dar, derartige
 Felder zu verwenden.
%-MWL- kein Absatz hier
\begin{verbatim}

(* avoiding SYSTEM.ADDRESS *)

TYPE ANYPOINTER = SYSTEM.ADDRESS;
\end{verbatim}
\index{ANYPOINTER@\mfname{ANYPOINTER}}
%-MWL- kein Absatz hier
Durch \mfname{ANYPOINTER}
 macht man sich auch ein
kleines biûchen \anf{\mfname{SYS\-TEM}-un\-ab\-hÑng\-iger}.
%-MWL- kein Absatz hier
\begin{verbatim}

(* all Purpose Procedure Type *)

TYPE ANYPROC = PROCEDURE(ANYPOINTER);

\end{verbatim}
\index{ANYPROC@\mfname{ANYPROC}}
%-MWL- kein Absatz hier
\mfname{ANYPROC} stellt den allgemeinsten Fall einer Prozedur dar. Alle
 Parameter werden durch einen Zeiger auf dieselben Åbergeben.
%-MWL- kein Absatz hier
\begin{verbatim}

(* C-compatible NIL *)

CONST NULL = NIL;

\end{verbatim}\index{NULL@\mfname{NULL}}
%-MWL- kein Absatz hier
Bei systemnaher Programmierung benîtigt man îfters einen Zeiger mit
dem Wert 0. Bei vielen Compilern ist dies gleichbedeutend mit
\mfname{NIL}, bei einigen jedoch nicht.
Aus GrÅnden der PortabilitÑt benutze man \mfname{NULL}.

\subsection{Das Modul \mfname{pSTORAGE}}\index{pSTORAGE@\mfname{pSTORAGE}}
Leider ist das gewîhnliche \mfname{Storage}-Modul nicht portabel. \mfname{pSTORAGE}
schafft Abhilfe.

\subsection{Das Modul \mfname{RcMgr}}\index{RcMgr@\mfname{RcMgr}}
Dieses Modul stellt tatsÑchlich einen Ausschnitt aus dem Quelltext der
AES dar und ist auch ein Bestandteil (zumindest die \verb+GRECT+-Struktur
\index{GRECT-Struktur@{\tt GRECT}-Struktur} und
die Funktion \verb+rc_intersect+)\index{rc|_intersect@\verb+rc_intersect+} %-MWL- neu!
von C-Bibliotheken.

\subsection{Das Modul \mfname{VControl}}\index{VControl@\mfname{VControl}}
Dieses Modul befaût sich mit den VDI-Kontrollfunktionen, d.h. Aufrufe rund
um VDI-Workstations und rund um GDOS.
Die Funktion \mfname{VOpnWk()}\index{VOpnWk()@\mfname{VOpnWk}} ermîglicht es, sog.
Off-Screen-Bitmaps als
eigene VDI-Workstation zu behandeln. Weiterhin ist es mîglich, eine
Auflîsung zu Åbergeben, welche bei bestimmten Treibern wirksam ist.
Die Funktion \mfname{VSTLoadFonts()}\index{VSTLoadFonts()@\mfname{VSTLoadFonts}} wurde um die unter
PC-GEM\index{PC-GEM} vorhandenen Parameter erweitert.

%
%-MWL- Die folgende zwei Titel gehîren zu nur einer \subsection.
%\subsection{Das Modul \mfname{SetObject}}\index{SetObject@\mfname{SetObject}}
%\subsection{Das Modul \mfname{GetObject}}\index{GetObject@\mfname{GetObject}}
%-MWL- Sie wurden aus TeXnischen und typographischen GrÅnden zu einem vereinigt:
\subsection{Die Moduln \mfname{SetObject}\,\&\,\mfname{GetObject}}
\index{SetObject@\mfname{SetObject}}\index{GetObject@\mfname{GetObject}}
Mit Hilfe dieser beiden Moduln kann auf portable Art und Weise auf
die AES-Objektstrukturen zugegriffen werden, selbst wenn man nicht
so groûen Wert auf PortabilitÑt beispielsweise zu X/GemOnX legt.
Zumindest sollte man \mfname{GetObject.Type()} und \mfname{SetObject.Type()} sowie
\mfname{GetObject.Extnd()} und \mfname{SetObject.Extnd()} benutzen, da der Zugriff auf
den erweiterten Objekttyp\index{erweiterter Objekttyp}
von Compiler zu Compiler unterschiedlich sein kann.

\subsection{Das Modul \mfname{MenuTool}}\index{MenuTool@\mfname{MenuTool}}
Die Funktion \mfname{MenuKey()} behandelt MenÅ-TastenkÅrzel. Die einem MenÅ\-punkt
zugeordneten Ta\-sten\-kÅr\-zel, die mit der Control- oder Alternate-Taste
gebildet sein mÅssen, werden aus der MenÅ-Resource selber ausgelesen.
Sie sind somit mit Hilfe eines Resource Construction Sets verÑnderbar.
Die öbersetzung der in der Resource abgelegten TastenkÅrzel-Zeichenkette
geschieht mit einer Art Tastaturtabelle, die ebenfalls in der Resourcedatei
vorhanden sein muû. Die Tastaturtabelle wird an Hand eines speziellen
Flag im Root-Objekt erkannt. Diese Tastaturtabelle kann oder muû an
die verschiedenen landesspezifischen Tastaturen und Betriebssysteme
angepaût werden.

\subsection{Das Modul \mfname{FormTool}}\index{FormTool@\mfname{FormTool}}
Dieses Modul stellt etwas erweiterte Funktionen zu \mfname{FormMgr} zur VerfÅgung,
insbesondere das Retten des Hintergrundrechtecks von Dialogboxen.

\subsection{Das Modul \mfname{GrafTool}}\index{GrafTool@\mfname{GrafTool}}
Dieses Modul stellt ein etwas komfortableres \mfname{GrafMouse()} zur VerfÅgung.
Es Åberwacht die Verschachtelungstiefe und speichert die letzte
Mausform.

\subsection{Das Modul \mfname{ObjcTool}}\index{ObjcTool@\mfname{ObjcTool}}
Dieses Modul stellt Routinen zur Object-Manipulation zur VerfÅgung,
die Åber \mfname{ObjcMgr} und\\ \mfname{SetObject}/\mfname{GetObject} hinausgehen.

\subsection{Das Modul \mfname{RsrcTool}}\index{RsrcTool@\mfname{RsrcTool}}
Die Funktion \mfname{GetTreePtr()}
korrigiert einen Mangel der AES, welche zu faul sind, Icons und
Images an das physikalische Bildschirmformat\index{Bildschirmformat}
anzupassen. Dies ist wichtig bei PC-GEM und Grafikkarten.

\subsection{Das Modul \mfname{AESTool}}\index{AESTool@\mfname{AESTool}}
Dieses Modul ermîglicht die portable Erzeugung sog.  user-defined objects.

\subsection{Das Modul \mfname{ApplTool}}\index{ApplTool@\mfname{ApplTool}}
Dieses Modul stellt die ab MultiTOS vorhandene Funktion \mfname{ApplGetInfo()}
zur VerfÅgung. \mfname{ApplGetInfo()} wurde bewuût nicht in \mfname{ApplMgr}
aufgenommen, da die Emulation von \mfname{ApplGetInfo()} sehr viel andere AES-
und VDI-Aufrufe benîtigt und dies die Modulhierarchie einigermaûen
verkomplizieren wÅrde.

%\newpage %-MWL-
\cleardoublepage %-MWL- damit beginnt der folgende Text auf einer rechten Seite
\section{Liste der Modula-Compiler}\index{Modula-Compiler}\label{secModComp}
%
%-MWL- \hline mit `Luft drunter'
\newcommand{\Hline}{\hline\rule{0pt}{3ex}}%-MWL-
%
%\begin{table}[htbp]%-MWL- Floats hier unsinnig
\begin{center}%-MWL- statt
%\centering
%
%\begin{tabular}{l l l}%-MWL-
\begin{tabular*}{0.95\textwidth}{@{\extracolsep{\fill}} lll}%-MWL- ganze Seitenbreite ausnÅtzen
AbkÅrzung & Name                   & Hersteller/Vertrieb\\[1mm]%-MWL-
\hline\Hline%-MWL- öbersicht!
%          &                        &  \\ %-MWL-
ANAM2     & ana Modula/ST          & ana systems\\
          &                        & P.O.  Box 4759\\
          &                        & Foster City, CA 94404-0759\\
          &                        & USA\\
\Hline%-MWL- öbersicht!
CM2       & Collier Modula         &  \\
\Hline%-MWL- öbersicht!
FSTM2     & Fitted Software Modula & Fitted Software Tools\\
          &                        & P.O.  Box 867403\\
          &                        & Plano, TX 75086\\
          &                        & USA\\
\Hline%-MWL- öbersicht!
FTLM2     & FTL Modula/ST          & CCD\\
          &                        & Hochheimer Str.  5\\
          &                        & D-65343 Eltville\\
\Hline%-MWL- öbersicht!
GPM2      & Gardens Point Modula   & A+L AG\\
          &                        & DÑderiz 61\\
          &                        & CH-2540 Grenchen/SO\\
\Hline%-MWL- öbersicht!
HM2       & HÑnisch Modula/ST/TT   & MoSys G.b.R. \\
          &                        & c/o Thomas Uhl\\
          &                        & Obere Heerbergstr.  17\\
          &                        & D-97078 WÅrzburg\\
\Hline%-MWL- öbersicht!
HSM2      & HiSoft Modula          & HiSoft\\
\Hline%-MWL- öbersicht!
ISOM2     & ISO-Modula             &-\\
\Hline%-MWL- öbersicht!
JM2       & Jefferson Modula       & Jefferson Software\\
          &                        & 12416 North\\
          &                        & 28th Drive \#18-236\\
          &                        & Phoenix, AZ 85029-2434\\
          &                        & USA\\
\Hline%-MWL- öbersicht!
LM2       & Logitech Modula        & Logitech Int.  S.A. \\
          &                        & CH-1122 Romanel/Morges\\
\Hline%-MWL- öbersicht!
LPRM2     & LPR Modula             & TU MÅnchen\\
\Hline%-MWL- öbersicht!
MM2       & Megamax Modula         & Thomas Tempelmann\\
          &                        & Schusterwolfstr.  13\\
          &                        & D-81241 MÅnchen\\
\Hline%-MWL- öbersicht!
MAMM2     & MAMOS Modula           & Mammut Software\\
          &                        & Pfruendhofstr. 23\\
          &                        & CH-8910 Affoltern/Albis\\
\Hline%-MWL- öbersicht!
\end{tabular*}
\end{center}%-MWL- geÑndert
%\end{table}%-MWL- Floats hier unsinnig

\newpage
%\begin{table}[htbp]%-MWL- Floats hier unsinnig
\begin{center}%-MWL- geÑndert
%\begin{tabular}{l l l}%-MWL-
\begin{tabular*}{0.95\textwidth}{@{\extracolsep{\fill}} lll}%-MWL- ganze Seitenbreite ausnÅtzen
AbkÅrzung & Name                   & Hersteller/Vertrieb\\[1mm]%-MWL-
\hline\Hline%-MWL- öbersicht!
%          &                        &  \\ %-MWL-
MCSM2     & Modula Cross System    & Beech Tree Systems\\
          &                        & Sorpestr.  41\\
          &                        & D-59955 Winterberg\\
\Hline%-MWL- öbersicht!
MSM2      & Modular Software Modula& Heim Verlag\\
          & ST Modular             & Heidelberger Landstr.  194\\
          &                        & D-64297 Darmstadt-Eberstadt\\
\Hline%-MWL- öbersicht!
RM2       & Rowley Modula/ST/TT    & Real Time Associates Ltd. \\
          &                        & Canninghouse\\
          &                        & 59, Canningroad\\
          &                        & Croydon, Surrey (CR06QF)\\
          &                        & UK\\
\Hline%-MWL- öbersicht!
SBM2      & Stony Brook Modula     & Stony Brook Software\\
\Hline%-MWL- öbersicht!
SDSM2     & Software Developing    & Interface Technologies\\
          & System                 & Corp.\\
\Hline%-MWL- öbersicht!
SPCM2     & SPC Modula             & Compo Software\\
\Hline%-MWL- öbersicht!
TDIM2     & TDI Modula             & TDI Ltd. \\
\Hline%-MWL- öbersicht!
TM2       & Taylor Modula          & Heynmîller\\
          &                        & Informationssysteme GmbH\\
          &                        & Oxfordstr. 10\\
          &                        & D-53111 Bonn 1\\
\Hline%-MWL- öbersicht!
TSM2      & TopSpeed Modula        & A+L AG\\
          &                        & DÑderiz 61\\
          &                        & CH-2540 Grenchen/SO\\
\Hline%-MWL- öbersicht!
XAM2      & ana Modula/UNIX        & ana systems, s.o.\\
\Hline%-MWL- öbersicht!
XGPM2     & Gardens Point/UNIX     & A+L AG, s.o.\\
\Hline%-MWL- öbersicht!
XHM2      & HÑnisch Modula/UNIX    & MoSys G.b.R. , s.o.\\
\Hline%-MWL- öbersicht!
XRM2      & Rowley Modula/UNIX     & Real Time Associates Ltd. , s.o.\\
\Hline%-MWL- öbersicht!
CBM2      & Cambridge Modula/UNIX  & University of Cambridge\\
\Hline%-MWL- öbersicht!
MWM2      & Metrowerks Modula/UNIX & Metrowerks, Inc.\\
          &                        & The Trimex Building, Rte 11\\
          &                        & Mooers, NY 12958\\
          &                        & USA\\
\Hline%-MWL- öbersicht!
XTM2      & Taylor Modula/UNIX     & Heynmîller, s.o.\\
\Hline%-MWL- öbersicht!
MOCM2     & MoCKa/UNIX             & GMD\\
          &                        & c/o JÅrgen Vollmer\\
          &                        & Vincenz-Prieûnitz-Str.  1\\
          &                        & D-76131 Karlsruhe 1\\
\Hline%-MWL- öbersicht!
\end{tabular*}
\end{center}%-MWL- geÑndert
%\end{table}%-MWL- Floats hier unsinnig

%\newpage %-MWL-
\cleardoublepage %-MWL- damit beginnt der folgende Text auf einer rechten Seite
\section{Literatur}
ATARI ST/TT-Profibuch, SYBEX-Verlag GmbH DÅsseldorf,
ISBN 3-88745-563-0

Obwohl ein ATARI-spezifisches Buch, steht sehr viel Wissenswertes
Åber GEM darin.

\bigskip
Vom AnfÑnger zum GEM-Profi, HÅthig Verlag Heidelberg,
ISBN 3-7785-1792-9

Ein Buch, in dem es nur um GEM geht. Es bietet eine umfangreiche,
jedoch leider in C geschriebene, auf GEM aufsetzende Fensterbibliothek.
Die Quelltexte warten auf ihre öbertragung nach Modula-2.

\bigskip
GEM Programmier-Handbuch, SYBEX-Verlag GmbH DÅsseldorf,
ISBN ?

Hier wird der Quelltext zu Doodle ausfÅhrlich erlÑutert. Die Autoren
sind ehemalige DRI-Mitarbeiter.

\bigskip
Professionell GEM (ProGEM), Antic Publishing

Hîchst interessante Artikelserie des RCS-Autors Tim Oren. ErhÑltlich
in mehreren Dateien aus verschiedenen îffentlichen Quellen.

\bigskip
X/GemOnX, unix/mail 9/91, S.\,36 ff.

Ein Artikel, der Åber X/GemOnX einiges berichtet.

%\newpage %-MWL-
\cleardoublepage %-MWL- damit beginnt der folgende Text auf einer rechten Seite
%-MWL- Platzprobleme (bei Normalgrîûe letzte drei Indexzeilen auf neuer Seite)
\begin{small}%-MWL-
\printindex
\end{small}%-MWL-
\end{document}
